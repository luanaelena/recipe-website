{"ast":null,"code":"import _slicedToArray from\"D:/Personale/_festuff/final-project/my-recipe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import'./sign-in.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){//function to get into your account\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];function handleLogin(){var auth={username:username,password:password};//post request for login, checks username and pass and gets token\nvar options={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(auth)};fetch('https://api-recipes.luanabuca.com/auth/login',options).then(function(response){return response.json();}).then(function(data){console.log(data);if(data.error===1){alert('Wrong username or password');}else{//alert('You are in');\nlocalStorage.setItem('token',data.jwt);window.location.replace('/my-account');}}).catch(function(error){return console.error(error);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"sign-in-title\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",className:\"input-item\",onChange:function onChange(e){setUsername(e.target.value);},placeholder:\"Username\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"input-item\",onChange:function onChange(e){setPassword(e.target.value);},placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",id:\"sign-in-btn\",onClick:handleLogin,value:'Login'})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"../sign-up\",children:\"Don't have an account yet? Click here to create one!\"})})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","SignIn","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","handleLogin","auth","options","method","headers","body","JSON","stringify","fetch","then","response","json","data","console","log","error","alert","localStorage","setItem","jwt","window","location","replace","catch","className","children","id","htmlFor","type","onChange","e","target","value","placeholder","onClick","to"],"sources":["D:/Personale/_festuff/final-project/my-recipe/src/sign-in/SignIn.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './sign-in.css'\r\n\r\nexport default function SignIn(){\r\n  //function to get into your account\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  function handleLogin(){\r\n    const auth = {\r\n      username: username,\r\n      password: password\r\n    };\r\n    \r\n    //post request for login, checks username and pass and gets token\r\n    const options = {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(auth)\r\n    };\r\n\r\n    fetch('https://api-recipes.luanabuca.com/auth/login', options)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data);\r\n        if(data.error===1){\r\n          alert ('Wrong username or password');\r\n        }else{\r\n          //alert('You are in');\r\n          localStorage.setItem('token',data.jwt);\r\n          window.location.replace('/my-account');\r\n        }\r\n      })\r\n      .catch(error => console.error(error));\r\n  }\r\n\r\n  return (\r\n    <div className='sign-in'>\r\n      <h1 id='sign-in-title'>Sign In</h1>\r\n\r\n      <div>\r\n        <label htmlFor=\"username\">Username: </label>\r\n        <input type=\"text\" id='username' className='input-item' onChange={(e) => {setUsername(e.target.value)}} placeholder='Username' />\r\n      </div>\r\n\r\n      <div>\r\n        <label htmlFor=\"password\">Password: </label>\r\n        <input type=\"password\" id='password' className='input-item' onChange={(e) => {setPassword(e.target.value)}} placeholder='Password' />\r\n      </div>\r\n\r\n      <div>\r\n        <input type=\"button\" id='sign-in-btn' onClick={handleLogin} value={'Login'} />\r\n      </div>\r\n\r\n      <p>\r\n        <Link to='../sign-up'>Don't have an account yet? Click here to create one!</Link>\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}