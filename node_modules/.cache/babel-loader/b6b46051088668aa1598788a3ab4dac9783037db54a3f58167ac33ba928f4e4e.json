{"ast":null,"code":"import _slicedToArray from\"D:/Personale/_festuff/final-project/my-recipe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import'./recipe-page.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RecipePage(){//change url to get a specific recipe\nvar queryParameters=new URLSearchParams(window.location.search);var recipe_id=queryParameters.get('recipe_id');var recipeUrl='https://api-recipes.luanabuca.com/recipes/public/'+recipe_id;//get recipe details\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipe=_useState2[0],setRecipe=_useState2[1];var options={method:'GET',headers:{'Content-Type':'application/json'}};useEffect(function(){fetch(recipeUrl,options).then(function(response){return response.json();}).then(function(data){setRecipe(data['payload']['recipe']);}).catch(function(error){return console.error(error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-container\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"\\u2190 Go back to home page\"}),/*#__PURE__*/_jsx(\"h1\",{children:recipe.title}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Category: \",recipe.category&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:function onClick(){return window.location.replace('/?category_id='+recipe.category.id);},children:recipe.category.name})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Author: \",recipe.user&&recipe.user.name]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Complexity: \",recipe.complexity]})]}),/*#__PURE__*/_jsx(\"img\",{id:\"recipe-img\",src:recipe.image,alt:\"recipe photo\",width:\"100%\"}),recipe.description&&/*#__PURE__*/_jsx(\"div\",{id:\"recipe-description\",children:recipe.description.split('\\n').map(function(str){return/*#__PURE__*/_jsx(\"p\",{children:str});})})]});}","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","RecipePage","queryParameters","URLSearchParams","window","location","search","recipe_id","get","recipeUrl","_useState","_useState2","_slicedToArray","recipe","setRecipe","options","method","headers","fetch","then","response","json","data","catch","error","console","className","children","href","title","category","onClick","replace","id","name","user","complexity","src","image","alt","width","description","split","map","str"],"sources":["D:/Personale/_festuff/final-project/my-recipe/src/recipe-page/RecipePage.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport './recipe-page.css'\r\n\r\nexport default function RecipePage() {\r\n  //change url to get a specific recipe\r\n  const queryParameters = new URLSearchParams(window.location.search)\r\n  const recipe_id = queryParameters.get('recipe_id')\r\n\r\n  const recipeUrl = 'https://api-recipes.luanabuca.com/recipes/public/'+recipe_id;\r\n\r\n  //get recipe details\r\n  const [recipe, setRecipe] = useState([]);\r\n\r\n  const options = {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(recipeUrl, options)\r\n     .then(response => response.json())\r\n     .then(data => {\r\n      setRecipe(data['payload']['recipe']);\r\n     })\r\n     .catch(error => console.error(error));\r\n  }, [])\r\n\r\n  return (\r\n   <div className='recipe-container'>\r\n    <a href=\"/\">&larr; Go back to home page</a>\r\n    <h1>{recipe.title}</h1>\r\n    <ul>\r\n      <li>Category: {recipe.category && \r\n        <a href={\"#\"} onClick={() => window.location.replace('/?category_id='+recipe.category.id)}>{recipe.category.name}</a>\r\n      }</li>\r\n      <li>Author: {recipe.user && recipe.user.name}</li>\r\n      <li>Complexity: {recipe.complexity}</li>\r\n    </ul>\r\n    <img id='recipe-img' src={recipe.image} alt='recipe photo' width='100%'/>\r\n    {recipe.description && \r\n        <div id='recipe-description'>\r\n          {recipe.description.split('\\n').map(str => <p>{str}</p>)}\r\n        </div>\r\n    }\r\n   </div>\r\n  )\r\n}\r\n"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,mBAAmB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC;AACA,GAAM,CAAAC,eAAe,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CACnE,GAAM,CAAAC,SAAS,CAAGL,eAAe,CAACM,GAAG,CAAC,WAAW,CAAC,CAElD,GAAM,CAAAC,SAAS,CAAG,mDAAmD,CAACF,SAAS,CAE/E;AACA,IAAAG,SAAA,CAA4Bf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAExB,GAAM,CAAAI,OAAO,CAAG,CACdC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAEDrB,SAAS,CAAC,UAAM,CACdsB,KAAK,CAACT,SAAS,CAAEM,OAAO,CAAC,CACvBI,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACbR,SAAS,CAACQ,IAAI,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CACrC,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,QAAI,CAAAC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,GAAC,CACxC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACCxB,KAAA,QAAK0B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAChC7B,IAAA,MAAG8B,IAAI,CAAC,GAAG,CAAAD,QAAA,CAAC,6BAA2B,CAAG,CAAC,cAC3C7B,IAAA,OAAA6B,QAAA,CAAKd,MAAM,CAACgB,KAAK,CAAK,CAAC,cACvB7B,KAAA,OAAA2B,QAAA,eACE3B,KAAA,OAAA2B,QAAA,EAAI,YAAU,CAACd,MAAM,CAACiB,QAAQ,eAC5BhC,IAAA,MAAG8B,IAAI,CAAE,GAAI,CAACG,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA3B,MAAM,CAACC,QAAQ,CAAC2B,OAAO,CAAC,gBAAgB,CAACnB,MAAM,CAACiB,QAAQ,CAACG,EAAE,CAAC,EAAC,CAAAN,QAAA,CAAEd,MAAM,CAACiB,QAAQ,CAACI,IAAI,CAAI,CAAC,EAClH,CAAC,cACNlC,KAAA,OAAA2B,QAAA,EAAI,UAAQ,CAACd,MAAM,CAACsB,IAAI,EAAItB,MAAM,CAACsB,IAAI,CAACD,IAAI,EAAK,CAAC,cAClDlC,KAAA,OAAA2B,QAAA,EAAI,cAAY,CAACd,MAAM,CAACuB,UAAU,EAAK,CAAC,EACtC,CAAC,cACLtC,IAAA,QAAKmC,EAAE,CAAC,YAAY,CAACI,GAAG,CAAExB,MAAM,CAACyB,KAAM,CAACC,GAAG,CAAC,cAAc,CAACC,KAAK,CAAC,MAAM,CAAC,CAAC,CACxE3B,MAAM,CAAC4B,WAAW,eACf3C,IAAA,QAAKmC,EAAE,CAAC,oBAAoB,CAAAN,QAAA,CACzBd,MAAM,CAAC4B,WAAW,CAACC,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAAC,SAAAC,GAAG,qBAAI9C,IAAA,MAAA6B,QAAA,CAAIiB,GAAG,CAAI,CAAC,GAAC,CACrD,CAAC,EAEN,CAAC,CAET"},"metadata":{},"sourceType":"module","externalDependencies":[]}