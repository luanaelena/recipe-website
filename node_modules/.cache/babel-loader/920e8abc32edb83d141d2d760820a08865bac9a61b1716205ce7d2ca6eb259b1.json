{"ast":null,"code":"import _slicedToArray from\"D:/Personale/_festuff/final-project/my-recipe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import'./recipe-item.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RecipeItem(){//go to a specific recipe's page\nfunction handleRecipeClick(recipeId){window.location.replace('/recipe?recipe_id='+recipeId);}//listing title and url based on selected category\nvar queryParameters=new URLSearchParams(window.location.search);var categoryId=queryParameters.get('category_id');var listingtitle='';var recipeUrl='';if(categoryId==null){listingtitle='Latest recipes';recipeUrl='https://api-recipes.luanabuca.com/recipes/public/search?limit=5';}else{listingtitle='Recipes for selected category';recipeUrl='https://api-recipes.luanabuca.com/recipes/public/search?limit=-1&category_id='+categoryId;}//get recipe details for listing\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];var options={method:'GET',headers:{'Content-Type':'application/json'}};useEffect(function(){fetch(recipeUrl,options).then(function(response){return response.json();}).then(function(data){setRecipes(data['payload']['recipes']);}).catch(function(error){return console.log(error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{id:\"recipe-item-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"list-title\",children:listingtitle}),recipes.map(function(recipe){return/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-list-item\",children:[/*#__PURE__*/_jsx(\"h4\",{children:recipe.title}),/*#__PURE__*/_jsx(\"img\",{src:recipe.image,width:\"200px\",alt:\"recipe photo\"}),/*#__PURE__*/_jsx(\"div\",{id:\"listing-p\",children:/*#__PURE__*/_jsx(\"p\",{children:recipe.description})}),/*#__PURE__*/_jsx(\"a\",{id:\"listing-a\",href:'#',onClick:function onClick(){return handleRecipeClick(recipe.id);},children:\"read more\"},recipe.id)]},recipe.id);})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","RecipeItem","handleRecipeClick","recipeId","window","location","replace","queryParameters","URLSearchParams","search","categoryId","get","listingtitle","recipeUrl","_useState","_useState2","_slicedToArray","recipes","setRecipes","options","method","headers","fetch","then","response","json","data","catch","error","console","log","id","children","className","map","recipe","title","src","image","width","alt","description","href","onClick"],"sources":["D:/Personale/_festuff/final-project/my-recipe/src/recipe-item/RecipeItem.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './recipe-item.css'\r\n\r\nexport default function RecipeItem() {\r\n\r\n    //go to a specific recipe's page\r\n    function handleRecipeClick(recipeId){\r\n        window.location.replace('/recipe?recipe_id='+recipeId);\r\n    }\r\n\r\n    //listing title and url based on selected category\r\n    const queryParameters = new URLSearchParams(window.location.search)\r\n    const categoryId = queryParameters.get('category_id')\r\n\r\n    let listingtitle = '';\r\n    let recipeUrl = '';\r\n    \r\n    if(categoryId==null){\r\n        listingtitle = 'Latest recipes';\r\n        recipeUrl = 'https://api-recipes.luanabuca.com/recipes/public/search?limit=5';\r\n    }else{\r\n        listingtitle = 'Recipes for selected category';\r\n        recipeUrl = 'https://api-recipes.luanabuca.com/recipes/public/search?limit=-1&category_id='+categoryId;\r\n    }\r\n\r\n    //get recipe details for listing\r\n    const [recipes, setRecipes] = useState([]);\r\n\r\n    const options = {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetch(recipeUrl, options)\r\n         .then(response => response.json())\r\n         .then(data => {\r\n        setRecipes(data['payload']['recipes']);\r\n      })\r\n      .catch(error => console.log(error));\r\n    }, []);\r\n\r\n  return (\r\n    <div id='recipe-item-container'>\r\n        <h2 className='list-title'>{listingtitle}</h2>\r\n\r\n        {recipes.map(recipe => (\r\n            <div className='recipe-list-item' key={recipe.id}>\r\n                <h4>{recipe.title}</h4>\r\n                <img src={recipe.image} width='200px' alt='recipe photo'/>\r\n                <div id='listing-p'>\r\n                  <p>{recipe.description}</p>\r\n                </div>\r\n                <a id='listing-a' href={'#'} key={recipe.id} onClick={() => handleRecipeClick(recipe.id)}>read more</a>\r\n            </div>\r\n        ))}\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,mBAAmB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CAEjC;AACA,QAAS,CAAAC,iBAAiBA,CAACC,QAAQ,CAAC,CAChCC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,oBAAoB,CAACH,QAAQ,CAAC,CAC1D,CAEA;AACA,GAAM,CAAAI,eAAe,CAAG,GAAI,CAAAC,eAAe,CAACJ,MAAM,CAACC,QAAQ,CAACI,MAAM,CAAC,CACnE,GAAM,CAAAC,UAAU,CAAGH,eAAe,CAACI,GAAG,CAAC,aAAa,CAAC,CAErD,GAAI,CAAAC,YAAY,CAAG,EAAE,CACrB,GAAI,CAAAC,SAAS,CAAG,EAAE,CAElB,GAAGH,UAAU,EAAE,IAAI,CAAC,CAChBE,YAAY,CAAG,gBAAgB,CAC/BC,SAAS,CAAG,iEAAiE,CACjF,CAAC,IAAI,CACDD,YAAY,CAAG,+BAA+B,CAC9CC,SAAS,CAAG,+EAA+E,CAACH,UAAU,CAC1G,CAEA;AACA,IAAAI,SAAA,CAA8BpB,QAAQ,CAAC,EAAE,CAAC,CAAAqB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1B,GAAM,CAAAI,OAAO,CAAG,CACZC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAED1B,SAAS,CAAC,UAAM,CACZ2B,KAAK,CAACT,SAAS,CAAEM,OAAO,CAAC,CACvBI,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACfR,UAAU,CAACQ,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,CACxC,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,QAAI,CAAAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,GAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAER,mBACE5B,KAAA,QAAK+B,EAAE,CAAC,uBAAuB,CAAAC,QAAA,eAC3BlC,IAAA,OAAImC,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEpB,YAAY,CAAK,CAAC,CAE7CK,OAAO,CAACiB,GAAG,CAAC,SAAAC,MAAM,qBACfnC,KAAA,QAAKiC,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC7BlC,IAAA,OAAAkC,QAAA,CAAKG,MAAM,CAACC,KAAK,CAAK,CAAC,cACvBtC,IAAA,QAAKuC,GAAG,CAAEF,MAAM,CAACG,KAAM,CAACC,KAAK,CAAC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAAC,cAC1D1C,IAAA,QAAKiC,EAAE,CAAC,WAAW,CAAAC,QAAA,cACjBlC,IAAA,MAAAkC,QAAA,CAAIG,MAAM,CAACM,WAAW,CAAI,CAAC,CACxB,CAAC,cACN3C,IAAA,MAAGiC,EAAE,CAAC,WAAW,CAACW,IAAI,CAAE,GAAI,CAAiBC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAzC,iBAAiB,CAACiC,MAAM,CAACJ,EAAE,CAAC,EAAC,CAAAC,QAAA,CAAC,WAAS,EAAjEG,MAAM,CAACJ,EAA6D,CAAC,GANpEI,MAAM,CAACJ,EAOzC,CAAC,EACT,CAAC,EACD,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}